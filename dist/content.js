chrome.runtime.onMessage.addListener(((e,t,s)=>{if("getParagraphs"===e.action&&s({paragraphs:Array.from(document.getElementsByTagName("p")).map((e=>e.innerText.trim())).filter((e=>e.length>0))}),"speakText"===e.action){const t=new SpeechSynthesisUtterance(e.text);t.lang=e.lang||"en-US",t.rate=e.rate||1,t.pitch=e.pitch||1,speechSynthesis.speak(t),s({status:"speaking"})}"pauseSpeech"===e.action&&(speechSynthesis.pause(),s({status:"paused"})),"resumeSpeech"===e.action&&(speechSynthesis.resume(),s({status:"resumed"})),"stopSpeech"===e.action&&(speechSynthesis.cancel(),s({status:"stopped"})),"toggleDarkMode"===e.action&&(document.body.classList.toggle("dark-mode"),s({status:"darkModeToggled"})),"toggleHighContrast"===e.action&&(document.body.classList.toggle("high-contrast-mode"),s({status:"highContrastToggled"}))}));